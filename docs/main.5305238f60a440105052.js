(()=>{"use strict";var t={d:(e,o)=>{for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{L:()=>d});class e{static fromJson({tarea:t,id:o,completado:a}){const s=new e(t);return s.tarea=t,s.id=o,s.completado=a,s}constructor(t){this.tarea=t,this.completado=!1,this.id=(new Date).getTime(),this.creado=new Date}imprimirTodo(){console.log(`${this.tarea} - ${this.id}`)}}const o=document.querySelector(".todo-list"),a=document.querySelector(".new-todo"),s=document.querySelector(".clear-completed"),r=document.querySelector(".filters"),c=t=>{const e=`\n    <li class="${t.completado?"completed":""}" data-id="${t.id}">\n    <div class="view">\n        <input class="toggle" type="checkbox" ${t.completado?"checked":""} />\n        <label>${t.tarea}</label>\n        <button class="destroy"></button>\n    </div>\n    <input class="edit" value="Create a TodoMVC template">\n    </li>`,a=document.createElement("div");return a.innerHTML=e,o.append(a.firstElementChild),a.firstElementChild};a.addEventListener("keyup",(t=>{if(13===t.keyCode&&""!==t.target.value){const o=new e(t.target.value);d.nuevoTodo(o),c(o),t.target.value="",console.log(d)}})),o.addEventListener("click",(t=>{const e=t.target.localName,a=t.target.parentElement.parentElement,s=a.getAttribute("data-id");"input"===e?(d.marcarCompletado(s),a.classList.contains("completed")?a.classList.remove("completed"):a.classList.add("completed")):"button"===e&&(d.borrarTarea(s),o.removeChild(a))})),s.addEventListener("click",(t=>{d.borrarCompletados()})),r.addEventListener("click",(t=>{const e=o.querySelectorAll("li"),a=r.querySelectorAll(".filtro"),s=t.target.text;if(a.forEach((t=>{t.classList.remove("selected")})),t.target.classList.add("selected"),null!=s)for(const t of d.todos)switch(s){case"Completados":e.forEach((t=>{t.classList.contains("completed")||t.classList.contains("hidden")?t.classList.contains("completed")&&t.classList.contains("hidden")&&t.classList.remove("hidden"):t.classList.add("hidden")}));break;case"Pendientes":e.forEach((t=>{t.classList.contains("completed")&&!t.classList.contains("hidden")?t.classList.add("hidden"):!t.classList.contains("completed")&&t.classList.contains("hidden")&&t.classList.remove("hidden")}));break;case"Todos":e.forEach((t=>{t.classList.contains("hidden")&&t.classList.remove("hidden")}))}}));const d=new class{constructor(){this.todos=[]}nuevoTodo(t){this.todos.push(t),this.guardarLocalStorage()}borrarTarea(t){this.todos=this.todos.filter((e=>e.id!=t)),this.guardarLocalStorage()}marcarCompletado(t){for(const e of this.todos)if(e.id==t){e.completado=!e.completado;break}this.guardarLocalStorage()}borrarCompletados(){for(const t of this.todos)if(t.completado){this.borrarTarea(t.id);document.querySelectorAll(".completed").forEach((t=>t.remove(t)))}this.guardarLocalStorage()}guardarLocalStorage(){localStorage.setItem("todo",JSON.stringify(this.todos))}cargarLocalStorage(){this.todos=localStorage.getItem("todo")?JSON.parse(localStorage.getItem("todo")):[],this.todos=this.todos.map((t=>e.fromJson(t)))}};d.cargarLocalStorage(),d.todos.forEach((t=>{c(t)})),console.log(d.todos)})();